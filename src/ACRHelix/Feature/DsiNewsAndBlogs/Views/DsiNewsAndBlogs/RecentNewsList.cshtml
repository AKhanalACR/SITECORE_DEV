@inherits Glass.Mapper.Sc.Web.Mvc.GlassView<ACRHelix.Feature.DsiNewsAndBlogs.ViewModels.RecentNewsListViewModel>

<div class="content section-spacing">
    <header class="header-underrule">
        <div class="space-between">
            <h2 class="inline-block">@Editable(x => x.Title)</h2>            
        </div>
    </header>
    <div class="indented-section">
        @foreach (var newsArticle in Model.NewsArticles)
        {
            using (BeginEditFrame(newsArticle, "News Article", x => x.Title, x => x.SubTitle, x => x.Type, x => x.StartDate, x => x.TileText))
            {
                <div class="article-item">
                    @if (!string.IsNullOrWhiteSpace(newsArticle.LinkOverride))
                    {
                        <h3 class="font-inherit-body"><a href="@newsArticle.LinkOverride">@Editable(newsArticle, x => x.Title)</a></h3>
                    }
                    else
                    {
                        <h3 class="font-inherit-body"><a href="@newsArticle.Url">@Editable(newsArticle, x => x.Title)</a></h3>
                    }
                                        
                    <div class="text-content pad-bottom-1em">
                        <strong>@Editable(newsArticle, x => x.StartDate, x => x.StartDate.ToString("MMMM dd, yyyy"))</strong> <br />
                        @if (Sitecore.Context.PageMode.IsExperienceEditorEditing || !string.IsNullOrWhiteSpace(newsArticle.TileText))
                        {
                            @Editable(newsArticle, x => x.TileText)
                        }                      
                    </div>
                    @if (!string.IsNullOrWhiteSpace(newsArticle.LinkOverride))
                    {
                        <a href="@newsArticle.LinkOverride" class="read-more-link">Read More </a>
                    }
                    else
                    {
                        <a href="@newsArticle.Url" class="read-more-link">Read More </a>
                    }
                    
                    <br>
                    <br>
                </div>
            }
        }
        @RenderLink(x => x.ArchivesLink, new {@class= "read-more-link" }, isEditable: true)
    </div>
</div>