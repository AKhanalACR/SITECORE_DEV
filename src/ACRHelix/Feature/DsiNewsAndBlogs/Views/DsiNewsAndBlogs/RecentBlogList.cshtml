@inherits Glass.Mapper.Sc.Web.Mvc.GlassView<ACRHelix.Feature.DsiNewsAndBlogs.ViewModels.RecentBlogListViewModel>

<div class="content section-spacing">
    <header class="header-underrule">
        <div class="space-between">
            <h2 class="inline-block">@Editable(x => x.Title)</h2>            
        </div>
    </header>
    <div class="indented-section">
        @foreach (var blogArticle in Model.NewsArticles)
        {
            using (BeginEditFrame(blogArticle, "Blog Article", x => x.Title, x => x.SubTitle, x => x.Type, x => x.StartDate, x => x.TileText))
            {
                <div class="article-item">
                    @if (!string.IsNullOrWhiteSpace(blogArticle.LinkOverride))
                    {
                        <h3 class="font-inherit-body"><a href="@blogArticle.LinkOverride">@Editable(blogArticle, x => x.Title)</a></h3>
                    }
                    else
                    {
                        <h3 class="font-inherit-body"><a href="@blogArticle.Url">@Editable(blogArticle, x => x.Title)</a></h3>
                    }

                    <div class="text-content pad-bottom-1em">
                        <i>@Editable(blogArticle, x => x.SubTitle)</i><br/>
                        By @Editable(blogArticle, x => x.Author) | @Editable(blogArticle, x => x.StartDate, x => x.StartDate.ToString("MMMM dd, yyyy")) <br />
                        @if (Sitecore.Context.PageMode.IsExperienceEditorEditing || !string.IsNullOrWhiteSpace(blogArticle.TileText))
                        {
                            @Editable(blogArticle, x => x.TileText)
                        }                      
                    </div>
                    @if (!string.IsNullOrWhiteSpace(blogArticle.LinkOverride))
                    {
                        <a href="@blogArticle.LinkOverride" class="read-more-link">Read More </a>
                    }
                    else
                    {
                        <a href="@blogArticle.Url" class="read-more-link">Read More </a>
                    }
                    
                    <br>
                    <br>
                </div>
            }
        }
        @RenderLink(x => x.ArchivesLink, new {@class= "read-more-link" }, isEditable: true)
    </div>
</div>