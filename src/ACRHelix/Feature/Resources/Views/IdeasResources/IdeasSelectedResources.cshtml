@inherits Glass.Mapper.Sc.Web.Mvc.GlassView<ACRHelix.Feature.IdeasResources.ViewModels.IdeasSelectedResourcesViewModel>

<div class="resources">
    <div class="container">
        <h1 class="blue">@Editable(x => x.Title)</h1>
        @if (Model.Subtitle != "" || Sitecore.Context.PageMode.IsExperienceEditorEditing)
        {
            <h2 class="purple">
                @Editable(x => x.Subtitle)
            </h2>
        }
        <div class="row">
            @if (Model.SelectedResources != null && Model.SelectedResources.Count > 0)
            {
                foreach (var resource in Model.SelectedResources)
                {
                    if (resource.IsYTVideo)
                    {
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="card">
                                <iframe width="100%" height="200" src="@(resource.Link != null ? resource.Link.Url : "#")" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                <div class="card-body">
                                    @using (BeginRenderLink(resource, x => x.Link, isEditable: true))
                                    {
                                        <p class="card-text">@Editable(resource, r => r.Title)</p>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="card">
                                <a href="@(resource.Link != null ? resource.Link.Url : "#")" target="_blank">@(resource.Image != null ? (RenderImage(resource, r => r.Image, new { @class = "img-fluid" }, isEditable: true)) : new HtmlString(""))</a>
                                <div class="card-body">
                                    @using (BeginRenderLink(resource, x => x.Link, isEditable: true))
                                    {
                                        <p class="card-text">@Editable(resource, r => r.Title)</p>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                }
            }
        </div>
        <div class="text-center">
            <a class="mt-3 btn btn-ideas-purple" href="@(Model.ViewMoreLink != null ? Model.ViewMoreLink.Url : "#")" role="button">@Editable(x => x.ViewMoreLinkText)</a>
        </div>
    </div>
</div>
