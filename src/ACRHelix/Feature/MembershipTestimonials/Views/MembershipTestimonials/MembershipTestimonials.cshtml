@inherits Glass.Mapper.Sc.Web.Mvc.GlassView<ACRHelix.Feature.MembershipTestimonials.ViewModels.MembershipTestimonialsViewModel>
@using System.Collections.Specialized;
<div class="content">
    @*Quoted testimonial - banner*@
    @if (Model.BannerText != null)
    {
        <div class="mt-banner">
            <h1>@Editable(x => x.BannerText) </h1> @*WriteLiteral("\"" + Model.BannerText + "\"");*@
            <a href="#" class="orange-link read-more-link no-wrap text-size-1" data-item-id="@Model.FeaturedItemId">@Editable(x => x.BannerLinkText)</a>
            &nbsp;
        </div>
    }

    @*Top form link*@
    <div id="mtFormLinkSection0" class="content section-spacing-bottom mt-form-top-link">
        <div class="button-block text-center xl-text-left">
            <div class="xl-col-7 btn-block-title-area">
                @using (BeginRenderLink(x => x.FormUrl, new { @class = "inline-block text-size-1p125" }, isEditable: true))
                {
                    <i class="acr-icon text-orange icon-profile text-size-1p5"></i>
                    @Editable(x => x.FormBlockTitle) <i class="acr-icon icon-db-chevron2-right"></i>
                }               
            </div>
            <div class="xl-col-5 xl-text-right">
                @using (BeginRenderLink(x => x.FormUrl, new { @class = "button btn-white" }, isEditable: true))
                {
                    @Editable(x => x.FormBlockButtonText)
                }   
                @*<i class="acr-icon icon-db-chevron2-right"></i>*@             
            </div>
        </div>
    </div>

    @*category filter*@
    <header class="header-underrule">
        <div class="space-between">
            <h2>Member Stories&nbsp;</h2>
            <div class="inline-block">
                <div class="mt-catLst">
                    @if (Model.Categories != null && Model.Categories.Count() > 0)
                    {
                        <select class="category-filter">
                            <option value=""> Filter </option>
                            <option value="-1"> All </option>
                            @foreach (var item in Model.Categories)
                            {
                                <option value="@item.Name"> @item.Name </option>
                            }
                        </select>                      
                    }
                </div>
            </div>
        </div>
    </header>

    @*testimonial tiles*@   
    <section id="mtTiles" class="mtTiles flex-content-left spaced-column-area testimonial-cards-area">
        @Html.Partial("_Testimonials", Model)
    </section>
    <div id="ajaxLoader" class="content text-center ajax-loader" >
        <img src="~/css/mbr-testimonials/images/ajax-loader.gif" />
    </div>
    <a id="mtLoadMore" style="line-height:10px" href="#"></a>

    @*Bottom form link*@
    <div id="mtFormLinkSection1" class="content section-spacing-bottom">
        <div class="button-block text-center xl-text-left">
            <div class="xl-col-7 btn-block-title-area">
                @using (BeginRenderLink(x => x.FormUrl, new { @class = "inline-block text-size-1p125" }, isEditable: true))
                {
                    <i class="acr-icon text-orange icon-profile text-size-1p5"></i>
                    @Editable(x => x.FormBlockTitle) <i class="acr-icon icon-db-chevron2-right"></i>
                }               
            </div>
            <div class="xl-col-5 xl-text-right">
                @using (BeginRenderLink(x => x.FormUrl, new { @class = "button btn-white" }, isEditable: true))
                {
                    @Editable(x => x.FormBlockButtonText)
                }
                @*<i class="acr-icon icon-db-chevron2-right"></i>*@
            </div> 
        </div>
    </div>
</div>
@Html.HiddenFor(x => x.MaxIndex)
<div id="myModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog"  role="document">
        <div class="modal-content">
            <div id="myModalContent">
            </div>
        </div>
    </div>
</div>

