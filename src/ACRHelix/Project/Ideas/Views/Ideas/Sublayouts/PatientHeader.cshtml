@using Sitecore.Mvc
@using Sitecore.Mvc.Presentation

<div class="navbar-wrapper sticky">
    @Html.Sitecore().Placeholder("top navigation bar mobile")
    <div class="topbar" id="TopNavigationDesktop">
        <div class="container">
            <nav class="navbar navbar-expand-md topbar-style">
                <div class="collapse navbar-collapse" id="topbar-mobile" style="min-height:50px">
                    <ul class="navbar-nav ml-auto topNav">
                        @Html.Sitecore().Placeholder("top navigation bar")
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div class="main-navbar">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light topbar-style-bar main-menu">
                @Html.Sitecore().Placeholder("logo")
                @Html.Sitecore().Placeholder("header main menu")
            </nav>
        </div>
    </div>
    <div class="mobile-navbar">
        <div class="container">
            <nav id="stack-menu" class="navbar navbar-expand-lg navbar-light topbar-style-bar">
                @Html.Sitecore().Placeholder("logo")
                @Html.Sitecore().Placeholder("header-main-menu-mobile")
            </nav>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $("ul.ml-auto li.nav-item.mega-dropdown").hover(function () {
            $(this).addClass("show");
            $(this).find('div.dropdown-menu').addClass('show');
            $(this).find('a').attr('aria-expanded', true);
        }, function () {
            var item = document.getElementById('main-nav');
            if (item != undefined && item.childNodes != undefined && item.childNodes[1].childElementCount > 0) {
                for (var iCounter = 0; iCounter < item.childNodes[1].childElementCount; iCounter++) {
                    if (item.childNodes[1].children[iCounter].className == "nav-item mega-dropdown show") {
                        item.childNodes[1].children[iCounter].classList.remove('show');
                        item.childNodes[1].children[iCounter].children[1].classList.remove('show');
                        if (item.childNodes[1].children[iCounter].children[2] != undefined) {
                            item.childNodes[1].children[iCounter].children[2].classList.remove('show');
                        }
                    }
                }
            }
        });


        $(".arw").click(function (event) {

            event.preventDefault();
            event.stopPropagation();



            if ($(this).hasClass("opn")) {
                $(this).removeClass("opn");
                $(this).parent().removeClass("show");
                $(this).next().next().removeClass("show");
            }
            else {
                $(this).addClass("opn");
                $(this).parent().addClass("show");
                $(this).next().next().addClass("show");
            }


        });


    });
  
</script>